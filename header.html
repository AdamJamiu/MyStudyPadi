<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="header.css">
  <!-- <script src="components/header.js"></script>
  <script src="components/footer.js"></script> -->
</head>
<body>
  <!--header component tag to link to JavaScript -->
  <header-component> 
    <header>
      <div class="contain">
        <nav>
          <a href="index.html">
            <div class="logo">
              <img src="images/Logo.svg" alt="logo">
            </div>
          </a>
          <input type="checkbox" id="click">
          <label for="click" class="menu-btn">
            <i class="fas fa-bars"></i>
          </label>
          <ul class="links">
            <li class="link"><a class="active" href="#">Home</a></li>
            <li class="link"><a href="#">Blog</a></li>
            <li class="link"><a href="#">About Us</a></li>
            <li class="link"><a href="#">Contact Us</a></li>
          </ul>
        </nav>
      </div>
    </header>
  </header-component>
  
  <script src="https://kit.fontawesome.com/67f2f36e90.js" crossorigin="anonymous"></script>
  <script src="js/jquery-3.5.1.min.js"></script>
</body>
<script type="text/javascript">

function validateEmail(email) {
    const re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
    return re.test(String(email).toLowerCase());
}

$('#spinner').hide()

$('#send').on('click', function(e){
    e.preventDefault();

    var email= $('#email').val();
    if(!validateEmail(email)){
        alert(email + " is not a valid email.")
    }else{
        $('#spinner').show()
        console.log(email);
        $.ajax({
            url:'mail.php',
            method: 'POST',
            data:{
                'submit':'news_confirm',
                'recepient':email
            },
            success: function(response){
                $('#spinner').hide()
                console.log(response)
                if(response == "Error"){
                    alert("An error occurred, try again");
                }else{
                    $('#email').val("");
                    alert(response);
                }
                
                
            }
        })

    }
    
})

</script>
<!-- <style>
      .icon-input-btn{
          display: inline-block;
          position: relative;
      }
      .icon-input-btn input[type="submit"]{
          padding-left: 2em;
      }
      .icon-input-btn .fa{
          display: inline-block;
          position: absolute;
          left: 0.65em;
          top: 30%;
      }
  </style> -->
</html>

